<div class="panel panel-default mainpanel hs-comp-mainpanel">
    <div class="panel-heading" ><translate>Compositions</translate>
        <button type="button" class="close" ng-click="Core.closePanel(this)">
            <span aria-hidden="true">Ã—</span>
            <span class="sr-only">Close</span>
        </button>
    </div>
    <div class="panel-body">
        <div id="hs-comp-filter">
            <input type="text" class="form-control hs-filter" placeholder="Filter:" ng-model="query.title" ng-change="loadCompositions()">
            &nbsp;<input type="checkbox" ng-model="filter_by_extent" ng-change='loadCompositions()'><span translate>Filter by map extent</span>
            &nbsp;<input type="checkbox" ng-model="query.editable" ng-change='filterChanged()'><span translate>Only mine</span>
            <button type="button" ng-click="toggleKeywords()" class="btn btn-default btn-xs">Keywords<span class="caret"></span></button>
            <div class="keywords-panel">
                <div style="width: 45%; display:inline-block" class="checkbox" ng-repeat="(keyword, enabled) in keywords">
                    <label>
                        <input type="checkbox" ng-model="keywords[keyword]" ng-click="loadCompositions()" >
                        {{keyword}}
                    </label>
                </div>
            </div>
        </div>

        <ul class="hs-comp-list list-group row">
            <li ng-repeat="composition in compositions | filter:query" class="list-group-item hs-comp-item" ng-class="'composition.highlighted ? ' active' : ''" ng-mouseover="highlightComposition(composition, true)" ng-mouseleave="highlightComposition(composition, false)" ng-click="use_callback_for_edit = false; loadComposition(composition.link)"  data-toggle="tooltip"  data-container="body" data-placement="right" ng-attr-title="{{composition.mdAbstract}}">
                <div class="hs-comp-item-title">{{composition.title}}</div>
                <div class="hs-comp-item-controls">
                    <button type="button" class="btn btn-xs btn-default" aria-hidden="true" ng-show="composition.editable" ng-click='delete(composition)'><i class="glyphicon glyphicon-trash"></i></button>
                    <button type="button" class="btn btn-xs btn-default" aria-hidden="true" ng-show="composition.editable" ng-click='edit(composition)'><i class="glyphicon glyphicon-edit"></i></button>
                </div>
            </li>
        </ul>
    </div>

    <div class="panel-footer">
        <nav>
            <ul class="pager" ng-show="pages.length>0">
                <li><a href="#" ng-click="loadCompositions(current_page - 1)" aria-label="Previous">Previous</a></li>
                <li><a href="#" ng-click="loadCompositions(current_page + 1)" aria-label="Next">Next</a></li>
            </ul>
        </nav>
    </div>
</div>


